global:
  settings:
    general:
      title: OVHcloud Design System - Stats
    chart:
      resizable: true
      grid:
        x: false
    html:
      html: >-
        <div id="${this}" class="card-pf card-pf-aggregate-status" style="font-family: 'Source Sans Pro'; border: solid 1px #b3b3b3; box-shadow:none; width: 85%; margin: 0 10px; padding-bottom: 10px; border-radius: 8px; color: #00185e">
          <h2 style="font-weight: 700; font-size: x-large;" id="${this}Title"><em id="${this}Icon" class=""></em> ${title}</h2>
          <h3 style="font-weight: 700; font-size: xxx-large; color: #4d5592" id="${this}Value">${value} <span id="${this}Suffix" class=""></span></h3>
        </div>
datasets:
  - uuid: libraries_count
    content: >-
      [
        [1]
      ]
    columns:
      - id: Amount
        type: NUMBER
  - uuid: component_count
    content: >-
     [
        ["21/09", 28, 0, 0, 0],
        ["21/10", 29, 3, 0, 3],
        ["21/11", 30, 8, 0, 11],
        ["21/12", 30, 3, 0, 14],
        ["22/01", 30, 0, 0, 14],
        ["22/02", 30, 0, 0, 14],
        ["22/03", 31, 0, 0, 14],
        ["22/04", 31, 1, 1, 15],
        ["22/05", 33, 0, 0, 15],
        ["22/06", 33, 3, 0, 18],
        ["22/07", 38, 4, 0, 22],
        ["22/08", 42, 0, 1, 22],
        ["22/09", 44, 3, 0, 25],
        ["22/10", 44, 0, 0, 25],
        ["22/11", 44, 0, 0, 25],
        ["22/12", 49, 1, 0, 26],
        ["22/01", 50, 0, 0, 26],
        ["22/02", 51, 0, 0, 26],
        ["22/03", 52, 0, 0, 26],
        ["23/04", 56, 3, 1, 29],
        ["23/05", 56, 1, 0, 30],
        ["23/06", 58, 4, 1, 34],
        ["23/07", 56, 4, 1, 38],
        ["23/08", 57, 2, 0, 40],
        ["23/09", 58, 2, 0, 42],
        ["23/10", 59, 2, 0, 44],
        ["23/11", 59, 1, 0, 45],
        ["23/12", 59, 0, 0, 45],
        ["24/01", 59, 0, 0, 45],
        ["24/02", 61, 0, 0, 45],
        ["24/03", 61, 0, 3, 45],
        ["24/04", 58, 1, 11, 46],
        ["24/05", 57, 0, 7, 46],
      ]
    columns:
      - id: Month
        type: LABEL
      - id: Identified components
        type: NUMBER
      - id: Components created
        type: NUMBER
      - id: Components updated
        type: NUMBER
      - id: Sum of distinct components
  - uuid: documentation_views
    content: >-
      [
        ["24/03", 36, 1628],
        ["24/04", 78, 2036],
      ]
    columns:
      - id: Month
        type: LABEL
      - id: Unique visitors
      - id: Page views
  - uuid: run
    content: >-
      [
        ["23/03", 1, 0, 0, 1, 0, 2],
        ["23/04", 0, 0, 0, 0, 0, 0],
        ["23/05", 0, 0, 1, 1, 0, 2],
        ["23/06", 0, 1, 1, 1, 0, 3],
        ["23/07", 0, 1, 3, 0, 0, 4],
        ["23/08", 1, 0, 2, 1, 0, 4],
        ["23/09", 2, 0, 2, 1, 0, 5],
        ["23/10", 5, 1, 1, 0, 1, 8],
        ["23/11", 21, 3, 3, 2, 1, 30],
        ["23/12", 7, 5, 2, 1, 1, 16],
        ["24/01", 10, 4, 6, 4, 1, 25],
        ["24/02", 3, 0, 1, 1, 0, 5],
        ["24/03", 3, 2, 0, 1, 0, 6],
        ["24/04", 3, 2, 0, 1, 0, 6],
      ]
    columns:
      - id: Month
        type: LABEL
      - id: ODS issue
      - id: ODS feature
      - id: Documentation
      - id: Troubleshoot
      - id: Design
      - id: Total
  - uuid: run_types
    content: >-
      [
        ["ODS issues", 53],
        ["ODS features", 17],
        ["Documentation", 22],
        ["Troubleshoot", 14],
        ["Design", 4],
      ]
    columns:
      - id: Name
        type: LABEL
      - id: Count
  - uuid: run_issues
    content: >-
      [
        ["21/10", 0, 0, 0],
        ["21/11", 2, 0, -2],
        ["21/12", 0, 1, -1],
        ["22/01", 3, 1, -3],
        ["22/02", 3, 3, -3],
        ["22/03", 1, 1, -3],
        ["22/04", 3, 1, -5],
        ["22/05", 0, 0, -5],
        ["22/06", 0, 0, -5],
        ["22/07", 0, 1, -4],
        ["22/08", 0, 1, -3],
        ["22/09", 3, 2, -4],
        ["22/10", 0, 1, -3],
        ["22/11", 2, 1, -4],
        ["22/12", 4, 2, -6],
        ["22/01", 0, 1, -5],
        ["22/02", 0, 0, -5],
        ["22/03", 1, 0, -6],
        ["23/04", 1, 1, -6],
        ["23/05", 1, 1, -6],
        ["23/06", 0, 4, -2],
        ["23/07", 0, 1, -1],
        ["23/08", 1, 0, -2],
        ["23/09", 3, 0, -5],
        ["23/10", 12, 0, -17],
        ["23/11", 15, 13, -19],
        ["23/12", 1, 2, -18],
        ["24/01", 5, 8, -15],
        ["24/02", 5, 5, -15],
        ["24/03", 7, 4, -18],
        ["24/04", 3, 0, -21]
      ]
    columns:
      - id: Month
        type: LABEL
      - id: Opened issues
        type: NUMBER
      - id: Closed issues
        type: NUMBER
      - id: Issue delta
        type: NUMBER
  - uuid: adoption_prods
    content: >-
      [
        ["23/10", 1, 0, 0, 1],
        ["23/11", 0, 1, 1, 3],
        ["23/12", 0, 5, 0, 8],
        ["24/01", 1, 0, 0, 9],
        ["24/02", 0, 0, 0, 9],
        ["24/03", 0, 7, 0, 16],
        ["24/04", 0, 1, 0, 17],
      ]
    columns:
      - id: Month
        type: LABEL
      - id: Design
        type: NUMBER
      - id: Tech - External
        type: NUMBER
      - id: Tech - Internal
        type: NUMBER
      - id: Aggregated
        type: NUMBER
  - uuid: adoption_prod_types
    content: >-
      [
        ["Tech - For external UIs", 12],
        ["Tech - For internal UIs", 1],
        ["Design", 2]
      ]
    columns:
      - id: Name
        type: LABEL
      - id: Count
        type: NUMBER
  - uuid: adoption_coverage
    content: >-
      [
        ["Expected", 0.81],
        ["Current", 0.60]
      ]
    columns:
      - id: Name
        type: LABEL
      - id: Count
        type: NUMBER
pages:
  - name: index
    components:
      - properties:
          background-color: "#000E9C"
          opacity: 1
          color: white
          padding: 30px 20px
          text-align: center
        html: >-
          <h1 style="font-size: xx-large; font-weight: bolder; font-family: 'Source Sans Pro';">OVHcloud Design System - Stats</h1>
          <em>Last updated: 15/05/24</em>
      - type: TABS
        properties:
          width: 100%
          navGroupId: MainGroup
          targetDivId: all_div
      - div: all_div
  - name: Components
    properties:
      margin: 30px
    rows:
    - columns:
        - components:
            - html: >-
                <p style="font-family: 'Source Sans Pro'; font-weight: 600; color: #00185e">
                  ODS UI Components & Libraries <hr />
                </p>
              properties:
                font-size: xx-large
                margin-bottom: 30px
    - columns:   
        - span: 4
          properties:
            font-size: xx-large
            margin-bottom: 30px
          components:
            - displayer:
                type: METRIC
                general: 
                  title: Identified components
                columns:
                    - id: Identified components
                      pattern: "#"
                lookup:
                    uuid: component_count
                    rowCount: 1
                    sort:
                      - order: DESCENDING
                        column: Month
                    group:
                    - functions:
                        - source: Identified components
                        - source: Month
        - span: 4
          components:
            - displayer:
                type: METRIC
                general: 
                  title: Prodded components
                columns:
                    - id: Components created
                      pattern: "#"
                lookup:
                    uuid: component_count
                    group:
                    - functions:
                        - source: Components created
                          function: SUM
        - span: 4
          components:
            - displayer:
                type: METRIC
                general: 
                  title: Updated components
                columns:
                    - id: Components updated
                      pattern: "#"
                lookup:
                    uuid: component_count
                    group:
                    - functions:
                        - source: Components updated
                          function: SUM
    - columns:
        - span: 6
          properties:
            font-size: xx-large
            margin-top: 30px
          components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "UI components production advancement",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70
                                },
                                "color": ["#FCCD9F", "#00185e"],
                                "legend": {
                                  "bottom": 0
                                },
                                "xAxis": [{
                                  "axisTick": {
                                    "alignWithLabel": true
                                  },
                                  "axisLabel": {
                                    "interval": 0,
                                    "rotate": 50,
                                    "margin": 12,
                                    "hideOverlap": true
                                  }
                                }],
                              "yAxis": [
                                {
                                  "type": "value",
                                  "name": "Components"
                                }
                              ],
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "magicType": {
                                            "type": ["line", "bar"]
                                        },
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {
                                        "label": {
                                          "show": true
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "type": "line",
                                        "axisLabel": {
                                          "internal": "auto"
                                        },
                                        "areaStyle": {
                                          "color": "#FFF8D6"
                                        }
                                    },
                                    {
                                        "label": {
                                          "show": true
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "type": "line",
                                        "axisLabel": {
                                          "internal": "auto"
                                        }
                                    }
                                ],
                                "areaStyle": {
                                  "origin": "start"
                                }
                            }
                lookup:
                  uuid: component_count
                  group:
                    - columnGroup:
                        source: Month
                      functions:
                        - source: Month
                        - source: Identified components
                        - source: Sum of distinct components
        - span: 6
          properties:
            font-size: xx-large
            margin-top: 30px
          components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Components prodded per month",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "legend": {
                                  "bottom": 0
                                },
                                "xAxis": [{
                                  "axisTick": {
                                    "alignWithLabel": true
                                  },
                                  "axisLabel": {
                                    "interval": 0,
                                    "rotate": 50,
                                    "margin": 12,
                                    "hideOverlap": true
                                  },
                                  "axisPointer": {
                                    "type": "shadow"
                                  }
                                }],
                                "yAxis": [
                                  {
                                    "type": "value",
                                    "name": "Components"
                                  }
                                ],
                                "tooltip": {
                                  "trigger": "axis",
                                  "axisPointer": {
                                    "crossStyle": {
                                      "color": "#999"
                                    }
                                  }
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "magicType": {
                                            "type": ["line", "bar"]
                                        },
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {
                                        "label": {
                                          "show": true,
                                          "color": "#fff",
                                          "shadowColor": "transparent",
                                          "textBorderColor": "none"
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "stack": "components",
                                        "type": "bar"
                                    },
                                    {
                                        "label": {
                                          "show": true,
                                          "color": "#fff",
                                          "shadowColor": "transparent",
                                          "textBorderColor": "none"
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "stack": "components",
                                        "type": "bar"
                                    }
                                ]
                            }
                lookup:
                  uuid: component_count
                  group:
                    - columnGroup:
                        source: Month
                      functions:
                        - source: Month
                        - source: Components created
                        - source: Components updated
  - name: Documentation
    properties:
      margin: 30px
    rows:
    - columns:
      - components:
          - html: >-
              <p style="font-family: 'Source Sans Pro'; font-weight: 600; color: #00185e">
                ODS Documentation <hr />
              </p>
            properties:
              font-size: xx-large
              margin-bottom: 30px
    - columns:   
        - span: 4
          properties:
            font-size: xx-large
            margin-bottom: 30px
          components:
            - displayer:
                type: METRIC
                general: 
                  title: This month page views
                columns:
                    - id: Page views
                      pattern: "#"
                lookup:
                    uuid: documentation_views
                    rowCount: 1
                    sort:
                      - order: DESCENDING
                        column: Month
                    group:
                    - functions:
                        - source: Page views
                        - source: Month
        - span: 4
          properties:
            font-size: xx-large
            margin-bottom: 30px
          components:
            - displayer:
                type: METRIC
                general: 
                  title: Page views - Avg/month
                columns:
                    - id: Page views
                      pattern: "#"
                lookup:
                    uuid: documentation_views
                    group:
                    - functions:
                        - source: Page views
                          function: AVERAGE
        - span: 4
          components:
            - displayer:
                type: METRIC
                general: 
                  title: Unique visitors - Avg/month
                columns:
                    - id: Unique visitors
                      pattern: "#"
                lookup:
                    uuid: documentation_views
                    group:
                    - functions:
                        - source: Unique visitors
                          function: AVERAGE
        - span: 6
          properties:
            margin-top: 30px
            margin-bottom: 30px
          components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Page views month",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "legend": {
                                  "bottom": 0
                                },
                                "xAxis": [{
                                  "axisTick": {
                                    "alignWithLabel": true
                                  },
                                  "axisLabel": {
                                    "interval": 0,
                                    "rotate": 50,
                                    "margin": 12,
                                    "hideOverlap": true
                                  },
                                  "axisPointer": {
                                    "type": "shadow"
                                  }
                                }],
                                "yAxis": [
                                  {
                                    "type": "value",
                                    "name": "Page views"
                                  }
                                ],
                                "tooltip": {
                                  "trigger": "axis",
                                  "axisPointer": {
                                    "crossStyle": {
                                      "color": "#999"
                                    }
                                  }
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "magicType": {
                                            "type": ["line", "bar"]
                                        },
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {
                                        "label": {
                                          "show": true
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "type": "line"
                                    }
                                ]
                            }
                lookup:
                  uuid: documentation_views
                  group:
                    - columnGroup:
                        source: Month
                      functions:
                        - source: Month
                        - source: Page views
        - span: 6
          properties:
            margin-top: 30px
            margin-bottom: 30px
          components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Unique visitors per month",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "legend": {
                                  "bottom": 0
                                },
                                "xAxis": [{
                                  "axisTick": {
                                    "alignWithLabel": true
                                  },
                                  "axisLabel": {
                                    "interval": 0,
                                    "rotate": 50,
                                    "margin": 12,
                                    "hideOverlap": true
                                  },
                                  "axisPointer": {
                                    "type": "shadow"
                                  }
                                }],
                                "yAxis": [
                                  {
                                    "type": "value",
                                    "name": "Unique visitors"
                                  }
                                ],
                                "tooltip": {
                                  "trigger": "axis",
                                  "axisPointer": {
                                    "crossStyle": {
                                      "color": "#999"
                                    }
                                  }
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "magicType": {
                                            "type": ["line", "bar"]
                                        },
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {
                                        "label": {
                                          "show": true,
                                          "color": "#fff",
                                          "shadowColor": "transparent",
                                          "textBorderColor": "none"
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "yAxisIndex": 0,
                                        "type": "bar"
                                    }
                                ]
                            }
                lookup:
                  uuid: documentation_views
                  group:
                    - columnGroup:
                        source: Month
                      functions:
                        - source: Month
                        - source: Unique visitors
  - name: Requests
    properties:
      margin: 30px
    rows:
      - columns:
          - span: 12
            components:
              - html: >-
                  <p style="font-family: 'Source Sans Pro'; font-weight: 600; color: #00185e">
                    Incoming requests<hr />
                  </p>
                properties:
                  font-size: xx-large
                  margin-bottom: 30px
          - span: 4
            properties:
              font-size: xx-large
              margin-bottom: 30px
            components:
              - displayer:
                  type: METRIC
                  general: 
                    title: Requests (this month)
                  columns:
                      - id: Total
                        pattern: "#"
                  lookup:
                      uuid: run
                      rowCount: 1
                      sort:
                        - order: DESCENDING
                          column: Month
                      group:
                      - functions:
                          - source: Total
                          - source: Month
          - span: 4
            properties:
              font-size: xx-large
              margin-bottom: 30px
            components:
              - displayer:
                  type: METRIC
                  general: 
                    title: Issues found (this month)
                  columns:
                      - id: ODS issue
                        pattern: "#"
                  lookup:
                      uuid: run
                      rowCount: 1
                      sort:
                        - order: DESCENDING
                          column: Month
                      group:
                      - functions:
                          - source: ODS issue
                          - source: Month
          - span: 4
            components:
              - displayer:
                  type: METRIC
                  general: 
                    title: Features asked (this month)
                  columns:
                      - id: ODS feature
                        pattern: "#"
                  lookup:
                      uuid: run
                      rowCount: 1
                      sort:
                        - order: DESCENDING
                          column: Month
                      group:
                      - functions:
                          - source: ODS feature
                          - source: Month
          - span: 7
            components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Number of monthly requests",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "legend": {
                                  "bottom": 0
                                },
                                "xAxis": [{
                                  "axisTick": {
                                    "alignWithLabel": true
                                  },
                                  "axisLabel": {
                                    "interval": 0,
                                    "rotate": 50,
                                    "margin": 12,
                                    "hideOverlap": true
                                  },
                                  "axisPointer": {
                                    "type": "shadow"
                                  }
                                }],
                                "yAxis": [
                                  {
                                    "type": "value",
                                    "name": "Number of \nrequests"
                                  }
                                ],
                                "tooltip": {
                                  "trigger": "axis",
                                  "axisPointer": {
                                    "crossStyle": {
                                      "color": "#999"
                                    }
                                  }
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "magicType": {
                                            "type": ["line", "bar"]
                                        },
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    }
                                ]
                            }
                lookup:
                  uuid: run
                  group:
                    - columnGroup:
                        source: Month
                      functions:
                        - source: Month
                        - source: ODS issue
                        - source: ODS feature
                        - source: Documentation
                        - source: Troubleshoot
                        - source: Design
          - span: 4
            components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Request types",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70,
                                  "bottom": 0
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "tooltip": {
                                  "trigger": "item"
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {       
                                        "top": 30,     
                                        "label": {
                                          "formatter": "{b} ({d}%)",
                                          "overflow": "break"
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "type": "pie"
                                    }
                                ]
                            }
                lookup:
                  uuid: run_types
                  group:
                    - columnGroup:
                        source: Name
                      functions:
                        - source: Name
                        - source: Count
          - span: 12
            components:
              - html: >-
                  <fieldset>
                    <legend style="font-family: 'Source Sans Pro'; font-weight: 600; color: #00185e; font-size: 20px">
                      Legend
                    </legend>
                    <ul>
                      <li>
                        <strong>ODS Issue :</strong> A request to address a specific problem or error found within an ODS component.
                      </li>
                      <li>
                        <strong>ODS Feature :</strong> A request to add new functionality or enhancements to an ODS component to improve its capabilities or performance.
                      </li>
                      <li>
                        <strong>Documentation :</strong> A request that has been already answered in ODS documentation.
                      </li>
                      <li>
                        <strong>Troubleshoot :</strong> A request that has been troubleshooted with ODS team directly.
                      </li>
                      <li>
                        <strong>Design :</strong> A request that has been handled/answered by Design team.
                      </li>
                    </ul>
                  </fieldset>
  - name: Run
    properties:
      margin: 30px
    rows:
    - columns:
      - span: 12
        components:
          - html: >-
              <p style="font-family: 'Source Sans Pro'; font-weight: 600; color: #00185e">
                Run operations<hr />
              </p>
            properties:
              font-size: xx-large
              margin-bottom: 30px
      - span: 4
        properties:
          font-size: xx-large
          margin-bottom: 30px
        components:
          - displayer:
              type: METRIC
              general: 
                title: Opened issues (this month)
              columns:
                  - id: Opened issues
                    pattern: "#"
              lookup:
                  uuid: run_issues
                  rowCount: 1
                  sort:
                    - order: DESCENDING
                      column: Month
                  group:
                  - functions:
                      - source: Opened issues
                      - source: Month
      - span: 4
        properties:
          font-size: xx-large
          margin-bottom: 30px
        components:
          - displayer:
              type: METRIC
              general: 
                title: Closed issues (this month)
              columns:
                  - id: Closed issues
                    pattern: "#"
              lookup:
                  uuid: run_issues
                  rowCount: 1
                  sort:
                    - order: DESCENDING
                      column: Month
                  group:
                  - functions:
                      - source: Closed issues
                      - source: Month
      - span: 4
        components:
          - displayer:
              type: METRIC
              general: 
                title: Current issue delta
              columns:
                  - id: Issue delta
                    pattern: "#"
              lookup:
                  uuid: run_issues
                  rowCount: 1
                  sort:
                    - order: DESCENDING
                      column: Month
                  group:
                  - functions:
                      - source: Issue delta
                      - source: Month
      - properties:
          margin-top: 30px
        components:
          - displayer:
              component: echarts
              echarts:
                  option: >-
                          {
                              "title": {
                                "text": "Issues by month",
                                "textStyle": {
                                  "color": "#00185e"
                                }
                              },
                              "grid": {
                                "top": 70
                              },
                              "color": ["#f4a17d", "#bde475", "#FCCD9F"],
                              "legend": {
                                "bottom": 0
                              },
                              "xAxis": [{
                                "axisTick": {
                                  "alignWithLabel": true
                                },
                                "axisLabel": {
                                  "interval": 0,
                                  "rotate": 50,
                                  "margin": 12,
                                  "hideOverflow": true
                                },
                                "axisPointer": {
                                  "type": "shadow"
                                }
                              }],
                              "yAxis": [
                                {
                                  "type": "value",
                                  "name": "Issues",
                                  "min": -30,
                                  "max": 30
                                },
                                {
                                  "type": "value",
                                  "name": "Opened issues",
                                  "inverse": true,
                                  "min": -30,
                                  "max": 30
                                }
                              ],
                              "tooltip": {
                                "trigger": "axis",
                                "axisPointer": {
                                  "crossStyle": {
                                    "color": "#999"
                                  }
                                }
                              },
                              "toolbox": {
                                  "feature": {
                                      "dataZoom": {},
                                      "magicType": {
                                          "type": ["line", "bar"]
                                      },
                                      "restore": {}
                                  }
                              },
                              "series": [
                                  {
                                      "label": {
                                        "show": true,
                                        "color": "#268403",
                                        "textBorderWidth": 0,
                                        "position": "top"
                                      },
                                      "labelLayout": {
                                        "hideOverlap": true
                                      },
                                      "yAxisIndex": 1,
                                      "type": "bar"
                                  },
                                  {
                                      "label": {
                                        "show": true,
                                        "color": "#C11B1B",
                                        "textBorderWidth": 0,
                                        "position": "bottom"
                                      },
                                      "labelLayout": {
                                        "hideOverlap": true
                                      },
                                      "yAxisIndex": 0,
                                      "type": "bar"
                                  },
                                  {
                                      "areaStyle": {
                                        "color": "#FFF8D6"
                                      },
                                      "labelLayout": {
                                        "hideOverlap": true
                                      },
                                      "z": 0,
                                      "yAxisIndex": 0,
                                      "type": "line"
                                  }
                              ]
                          }
              lookup:
                uuid: run_issues
                group:
                  - columnGroup:
                      source: Month
                    functions:
                      - source: Month
                      - source: Opened issues
                      - source: Closed issues
                      - source: Issue delta
  - name: Adoption
    properties:
      margin: 30px
    rows:
      - columns:
          - span: 12
            components:
              - html: >-
                  <p style="font-family: 'Source Sans Pro'; font-weight: 600; color: #00185e">
                    ODS' adoption<hr />
                  </p>
                properties:
                  font-size: xx-large
                  margin-bottom: 30px
          - span: 4
            properties:
              font-size: xx-large
              margin-bottom: 30px
            components:
              - displayer:
                  type: METRIC
                  accumulate: true
                  general: 
                    title: Number of prodded projects (with ODS)
                  columns:
                      - id: Aggregated
                        pattern: "#"
                  lookup:
                      uuid: adoption_prods
                      rowCount: 1
                      sort:
                        - order: DESCENDING
                          column: Month
                      group:
                      - functions:
                          - source: Aggregated
                          - source: Month
          - span: 4
            properties:
              font-size: xx-large
              margin-bottom: 30px
            components:
              - displayer:
                  type: METRIC
                  general: 
                    title: Expected component coverage in new productions
                  columns:
                      - id: Count
                        pattern: "# %"
                  lookup:
                      uuid: adoption_coverage
                      filter:
                        - column: Name
                          function: EQUALS_TO
                          args:
                            - "Expected"
                      group:
                      - functions:
                          - source: Count
          - span: 4
            components:
              - displayer:
                  type: METRIC
                  general: 
                    title: Current component coverage in new productions
                  columns:
                      - id: Count
                        pattern: "# %"
                  lookup:
                      uuid: adoption_coverage
                      filter:
                        - column: Name
                          function: EQUALS_TO
                          args:
                            - "Current"
                      group:
                      - functions:
                          - source: Count
          - span: 7
            components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Prodded projects with ODS (by month)",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "legend": {
                                  "bottom": 0
                                },
                                "xAxis": [{
                                  "axisTick": {
                                    "alignWithLabel": true
                                  },
                                  "axisLabel": {
                                    "interval": 0,
                                    "rotate": 50,
                                    "margin": 12,
                                    "hideOverlap": true
                                  },
                                  "axisPointer": {
                                    "type": "shadow"
                                  }
                                }],
                                "yAxis": [
                                  {
                                    "type": "value",
                                    "name": "Number of\nprodded projects"
                                  }
                                ],
                                "tooltip": {
                                  "trigger": "axis",
                                  "axisPointer": {
                                    "crossStyle": {
                                      "color": "#999"
                                    }
                                  }
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "magicType": {
                                            "type": ["line", "bar"]
                                        },
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "stack": "Run",
                                        "type": "bar"
                                    },
                                    {
                                        "type": "line",
                                        "areaStyle": {
                                          "color": "#def8ff"
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "z": 0,
                                        "type": "line"
                                    }
                                ]
                            }
                lookup:
                  uuid: adoption_prods
                  group:
                    - columnGroup:
                        source: Month
                      functions:
                        - source: Month
                        - source: Tech - External
                        - source: Tech - Internal
                        - source: Design
                        - source: Aggregated
          - span: 4
            components:
            - displayer:
                component: echarts
                echarts:
                    option: >-
                            {
                                "title": {
                                  "text": "Types of ODS usage",
                                  "textStyle": {
                                    "color": "#00185e"
                                  }
                                },
                                "grid": {
                                  "top": 70,
                                  "bottom": 0
                                },
                                "color": ["#00185e", "#000e9c", "#0050d5", "#147de8", "#4ab0f5", "#73e3ff", "#7f7f7f", "#bfbfbf"],
                                "tooltip": {
                                  "trigger": "item"
                                },
                                "toolbox": {
                                    "feature": {
                                        "dataZoom": {},
                                        "restore": {}
                                    }
                                },
                                "series": [
                                    {       
                                        "top": 30,     
                                        "label": {
                                          "formatter": "{b} ({d}%)",
                                          "overflow": "break"
                                        },
                                        "labelLayout": {
                                          "hideOverlap": true
                                        },
                                        "type": "pie"
                                    }
                                ]
                            }
                lookup:
                  uuid: adoption_prod_types
                  group:
                    - columnGroup:
                        source: Name
                      functions:
                        - source: Name
                        - source: Count
navTree:
  root_items:
    - type: GROUP
      id: MainGroup
      children:
        - page: Components
        - page: Documentation
        - page: Requests
        - page: Run
        - page: Adoption
        - page: Operational
        - page: Impacts
